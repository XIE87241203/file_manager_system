<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文件仓库 - 文件管理系统</title>
    <!-- 引入公用样式 -->
    <link rel="stylesheet" href="../common/common.css">
    <link rel="stylesheet" href="../common/table.css">
    <!-- 引入页面私有样式 -->
    <link rel="stylesheet" href="file_repository.css">
</head>
<body class="repo-body">
    <!-- 顶部工具栏：由 UIComponents.initRepoHeader 动态初始化 -->
    <header class="top-bar"></header>

    <main class="repo-container">
        <!-- 主内容区域：在扫描时会整体隐藏 -->
        <div id="repo-main-content" class="repo-content-group">
            <!-- 数据展示区：自适应表格 -->
            <div class="table-wrapper">
                <table id="file-table" class="file-table">
                    <thead>
                        <tr>
                            <th class="sortable col-name" data-field="file_name">
                                文件名 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-size" data-field="file_size">
                                大小 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-path" data-field="file_path">
                                完整路径 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-md5" data-field="file_md5">
                                MD5 哈希值 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-time" data-field="scan_time">
                                扫描时间 <span class="sort-icon"></span>
                            </th>
                            <th class="col-check">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                            </th>
                        </tr>
                    </thead>
                    <tbody id="file-list-body">
                        <!-- 数据行由 JS 动态生成 -->
                    </tbody>
                </table>
            </div>

            <!-- 底部导航区：分页控制 -->
            <footer class="footer-bar">
                <div class="footer-left">
                    <div class="thumbnail-action-container">
                        <button id="btn-thumbnail" class="btn-secondary-small">生成缩略图</button>
                        <span id="thumbnail-progress-text" class="progress-text hidden"></span>
                    </div>
                </div>
                <div class="footer-center">
                    <div id="pagination-container" class="pagination-container">
                        <!-- 由 UIComponents.initPagination 自动生成 -->
                    </div>
                </div>
                <div class="footer-right">
                    <button id="btn-delete-selected" class="btn-danger-large hidden">移入回收站 (0)</button>
                </div>
            </footer>
        </div>
    </main>

    <!-- 脚本加载 -->
    <script src="../common/common.js"></script>
    <script src="../common/ui_components.js"></script>
    <script src="../common/request.js"></script>
    <script src="../common/toast.js"></script>
    <script src="file_repository.js"></script>
</body>
</html>
