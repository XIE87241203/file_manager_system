<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>回收站 - 文件管理系统</title>
    <!-- 引入公用样式 -->
    <link rel="stylesheet" href="../../common/common.css">
    <link rel="stylesheet" href="../../common/table.css">
    <!-- 引入同名样式文件 -->
    <link rel="stylesheet" href="recycle_bin.css">
</head>
<body class="repo-body">
    <!-- 顶部工具栏：仅包含搜索和返回 -->
    <header class="top-bar">
        <div class="top-bar-left">
            <button id="nav-back-btn" class="back-btn" title="返回上一页">
                <span>&lt; 返回</span>
            </button>
        </div>
        
        <div class="top-bar-center">
            <div class="search-container">
                <input type="text" id="search-input" class="search-input" placeholder="搜索文件名 (正则模糊匹配)..." autocomplete="off">
                <button id="search-btn" class="search-btn" title="点击搜索">
                    <i class="search-icon"></i>
                </button>
            </div>
        </div>
        
        <div class="top-bar-right">
            <!-- 回收站页面不提供索引按钮 -->
        </div>
    </header>

    <main class="repo-container">
        <div id="repo-main-content" class="repo-content-group">
            <!-- 数据展示区：自适应表格 -->
            <div class="table-wrapper">
                <table id="file-table" class="file-table">
                    <thead>
                        <tr>
                            <th class="sortable col-name" data-field="file_name">
                                文件名 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-path" data-field="file_path">
                                完整路径 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-md5" data-field="file_md5">
                                MD5 哈希值 <span class="sort-icon"></span>
                            </th>
                            <th class="sortable col-time" data-field="recycle_bin_time">
                                回收时间 <span class="sort-icon"></span>
                            </th>
                            <th class="col-check">
                                <input type="checkbox" id="select-all-checkbox" class="select-all-checkbox">
                            </th>
                        </tr>
                    </thead>
                    <tbody id="file-list-body">
                        <!-- 数据行由 JS 动态生成 -->
                    </tbody>
                </table>
            </div>

            <!-- 底部导航区：分页控制 -->
            <footer class="footer-bar">
                <div class="footer-left">
                    <!-- 回收站页面提供清空回收站按钮，默认隐藏 -->
                    <button id="btn-clear-recycle-bin" class="btn-danger-large hidden">清空回收站</button>
                </div>
                <div class="footer-center">
                    <div id="pagination-container" class="pagination-container">
                        <!-- 分页组件由 ui_components.js 动态初始化 -->
                    </div>
                </div>
                <div class="footer-right">
                    <button id="btn-restore-selected" class="btn-primary-large hidden">移出回收站</button>
                    <button id="btn-delete-selected" class="btn-danger-large hidden">彻底删除选中</button>
                </div>
            </footer>
        </div>
    </main>

    <!-- 脚本加载 -->
    <script src="../../common/ui_components.js"></script>
    <script src="../../common/request.js"></script>
    <script src="../../common/toast.js"></script>
    <script src="recycle_bin.js"></script>
</body>
</html>
